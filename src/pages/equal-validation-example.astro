---
import Layout from '../layout/layout.astro';
import BaseInput from '../components/inputs/BaseInput.astro';
import BaseButton from '../components/buttons/BaseButton.astro';
---

<Layout title="Esempio Validazione isEqualTo">
  <main class="container mx-auto px-4 py-8 max-w-md">
    <h1 class="text-3xl font-bold text-center mb-8">Esempio Validazione Campi Uguali</h1>
    
    <form class="space-y-6">
      <div>
        <h2 class="text-xl font-semibold mb-4">Registrazione Utente</h2>
        
        <!-- Email Field -->
        <div class="mb-4">
          <BaseInput 
            type="email"
            name="email"
            id="email"
            label="Email"
            placeholder="Inserisci la tua email"
            required={true}
            showErrors={true}
          />
        </div>
        
        <!-- Confirm Email Field with isEqualTo validation -->
        <div class="mb-4">
          <BaseInput 
            type="email"
            name="confirmEmail"
            id="confirmEmail"
            label="Conferma Email"
            placeholder="Conferma la tua email"
            required={true}
            isEqualTo="email"
            showErrors={true}
          />
        </div>
        
        <!-- Password Field -->
        <div class="mb-4">
          <BaseInput 
            type="password"
            name="password"
            id="password"
            label="Password"
            placeholder="Inserisci la password"
            required={true}
            minLength={8}
            showErrors={true}
          />
        </div>
        
        <!-- Confirm Password Field with isEqualTo validation -->
        <div class="mb-4">
          <BaseInput 
            type="password"
            name="confirmPassword"
            id="confirmPassword"
            label="Conferma Password"
            placeholder="Conferma la password"
            required={true}
            isEqualTo="password"
            showErrors={true}
          />
        </div>
        
        <!-- Custom field example with name attribute -->
        <div class="mb-4">
          <BaseInput 
            type="text"
            name="username"
            label="Nome Utente"
            placeholder="Inserisci nome utente"
            required={true}
            showErrors={true}
          />
        </div>
        
        <!-- Confirm username using name attribute -->
        <div class="mb-6">
          <BaseInput 
            type="text"
            name="confirmUsername"
            label="Conferma Nome Utente"
            placeholder="Conferma nome utente"
            required={true}
            isEqualTo="username"
            showErrors={true}
          />
        </div>
        
        <BaseButton type="submit" class="w-full">
          Registrati
        </BaseButton>
      </div>
    </form>
    
    <div class="mt-8 p-4 bg-gray-100 rounded-lg">
      <h3 class="font-semibold mb-2">Come utilizzare isEqualTo:</h3>
      <ul class="text-sm space-y-1">
        <li>• Aggiungi la proprietà <code class="bg-gray-200 px-1 rounded">isEqualTo</code> al BaseInput</li>
        <li>• Il valore deve essere l'ID o il nome del campo da confrontare</li>
        <li>• La validazione funziona in tempo reale durante la digitazione</li>
        <li>• Entrambi i campi si aggiorneranno quando uno dei due cambia</li>
      </ul>
    </div>
  </main>
</Layout>

<style>
  code {
    font-family: 'Courier New', monospace;
  }
</style>
