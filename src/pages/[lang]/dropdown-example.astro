---
import Layout from '../../layout/layout.astro';
import BaseDropdown from '../../components/dropdown/BaseDropdown.astro';

import { TranslationService } from '../../i18n/utils';


// Genera anche la home statica per ogni lingua
export function getStaticPaths() {
  return TranslationService.languagesArray.map(lang => ({ params: { lang: lang.params.lang } }));
}

const { lang } = Astro.params;
const t = TranslationService.useTranslations(lang);
---

<Layout title="Dropdown Example">
  <main class="container mx-auto p-8 space-y-8">
    <h1 class="text-3xl font-bold text-center">BaseDropdown Examples</h1>
    
    <!-- Esempio 1: Dropdown con testo semplice -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown con opzioni di testo</h2>
      <BaseDropdown 
        name="simple-dropdown" 
        placeholder="Seleziona una città" 
        required
      >
        Roma
        Milano
        Napoli
        Torino
        Firenze
      </BaseDropdown>
    </section>

    <!-- Esempio 2: Dropdown con bottoni e href -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown con navigazione</h2>
      <BaseDropdown 
        name="nav-dropdown" 
        placeholder="Vai a una pagina"
      >
        <a href="/" data-value="home">Home</a>
        <a href="/about" data-value="about">Chi siamo</a>
        <a href="/contact" data-value="contact">Contatti</a>
      </BaseDropdown>
    </section>

    <!-- Esempio 3: Dropdown con immagini -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown con immagini</h2>
      <BaseDropdown 
        name="image-dropdown" 
        placeholder="Seleziona un'icona"
      >
        <div data-value="home">
          <img src="/favicon.svg" alt="Home" width="24" height="24">
          Home
        </div>
        <div data-value="star">
          <img src="/favicon.svg" alt="Star" width="24" height="24">
          Stella
        </div>
        <div data-value="heart">
          <img src="/favicon.svg" alt="Heart" width="24" height="24">
          Cuore
        </div>
      </BaseDropdown>
    </section>

    <!-- Esempio 3.1: Dropdown con immagini e valore preimpostato -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown con immagini e valore preimpostato</h2>
      <BaseDropdown 
        name="image-dropdown-preset" 
        value="star"
        placeholder="Seleziona un'icona"
      >
        <div data-value="home">
          <img src="/favicon.svg" alt="Home" width="24" height="24">
          Home
        </div>
        <div data-value="star">
          <img src="/favicon.svg" alt="Star" width="24" height="24">
          Stella
        </div>
        <div data-value="heart">
          <img src="/favicon.svg" alt="Heart" width="24" height="24">
          Cuore
        </div>
      </BaseDropdown>
    </section>

    <!-- Esempio 4: Dropdown largo -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown a larghezza completa</h2>
      <BaseDropdown 
        name="full-width-dropdown" 
        placeholder="Seleziona un'opzione" 
        fullWidth
      >
        Opzione molto lunga che occupa tutto lo spazio disponibile
        Un'altra opzione ancora più lunga per testare il comportamento
        Opzione corta
      </BaseDropdown>
    </section>

    <!-- Esempio 5: Dropdown disabilitato -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown disabilitato</h2>
      <BaseDropdown 
        name="disabled-dropdown" 
        placeholder="Questo dropdown è disabilitato" 
        disabled
      >
        Opzione 1
        Opzione 2
        Opzione 3
      </BaseDropdown>
    </section>

    <!-- Esempio 6: Dropdown con opzioni disabilitate -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Dropdown con alcune opzioni disabilitate</h2>
      <BaseDropdown 
        name="mixed-dropdown" 
        placeholder="Seleziona un'opzione"
      >
        Opzione attiva 1
        <button disabled data-value="disabled1">Opzione disabilitata</button>
        Opzione attiva 2
        <input disabled data-value="disabled2">Altra opzione disabilitata</input>
        Opzione attiva 3
      </BaseDropdown>
    </section>

    <!-- Esempio 3.2: Test TranslateDropdown simulation -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Simulazione TranslateDropdown con href</h2>
      <BaseDropdown 
        name="translate-test" 
        value="/fr/"
        placeholder="Seleziona una lingua"
      >
        <a href="/en/">
          <img src="/favicon.svg" alt="English" width="24" height="24">
          English
        </a>
        <a href="/fr/">
          <img src="/favicon.svg" alt="Français" width="24" height="24">
          Français
        </a>
        <a href="/it/">
          <img src="/favicon.svg" alt="Italiano" width="24" height="24">
          Italiano
        </a>
      </BaseDropdown>
    </section>

    <!-- Form di test -->
    <section class="space-y-4">
      <h2 class="text-xl font-semibold">Test in un form</h2>
      <form class="space-y-4 p-4 border rounded-lg">
        <div>
          <label class="block text-sm font-medium mb-2">Seleziona una categoria (richiesto):</label>
          <BaseDropdown 
            name="category" 
            placeholder="Scegli una categoria" 
            required
          >
            Tecnologia
            Design
            Marketing
            Vendite
            Altro
          </BaseDropdown>
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-2">Seleziona una priorità (opzionale):</label>
          <BaseDropdown 
            name="priority" 
            placeholder="Scegli una priorità"
          >
            Alta
            Media
            Bassa
          </BaseDropdown>
        </div>
        
        <button 
          type="submit" 
          class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors"
        >
          Invia
        </button>
      </form>
    </section>
  </main>
</Layout>


